filters:
  - title: "Google"
    domains: ["google.com"]
    # Google известен своими обфускациями DOM-дерева.
    selector_groups:
      MainPage:
        description: "Заглавная страница"
        selectors:
          - title: "Подвал"
            selectors:
              # У десктопной версии:
              - >-
                body > :has(> div[role="navigation"]) >
                div:has([href*="policies.google.com/privacy"])
              # У мобильной версии:
              - >-
                body > #footer:has([href*="accounts.google.com/Logout"])
      ImagesSearchResults:
        description: "Поиск картинок"
        super_selector: ['#main']
        selectors:
          - title: "«Похожие запросы»"
            description: >-
              Удаление любых блоков, что находятся среди картинок но не являются
              таковыми (например, блок «Похожие запросы»)
            # На данный момент, у мобильного веб-интерфейса данный блок
            # не был замечен.
            selectors:
              - >-
                #res #search :has(> [data-lpage]) >
                :has(~ [data-lpage]):not([data-lpage])
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            tags: ["junk"]
            selectors: ['body > footer', '#sfooter']
          - title: "Голосовой поиск"
            description: >-
              Убирает кнопку голосового поиска, расположенную в поисковой строке
              между кнопками экранной клавиатуры и непосредственно поиска
            # Данный селектор работает как на странице поиска, так и на
            # заглавной странице Google.
            selectors:
              - >-
                form[action="/search"] :has(> textarea) + *
                [aria-label="Голосовой поиск"]
      SearchResultsPage:
        description: >-
          Веб-страница поисковой выдачи
          (например, https://www.google.com/search?q=example)
        super_selector: "#main"
        selectors:
          - title: "Реклама"
            description: >-
              Реклама в поисковой выдаче. Надписи: «Реклама», «Скрыть рекламу»
            # Прошлые неудачные селекторы:
            # ```
            # :has(> #bottomads)
            # # Этот селектор работает при обычном поиске, но на странице
            # # поиска картинок скрывает все картинки.
            # ```
            selectors:
              - "#rso #tads" # Реклама сверху поисковой выдачи
              - "#rcnt #tads" # Реклама сверху поисковой выдачи
              - "#bottomads" # Реклама снизу поисковой выдачи
          #- title: "Приложения Google и кнопка «Войти»"
          #  #description:
          #  tags: ["junk"]
          #  selectors: ["#searchform [action=\"/search\"] + div"]
          - title: "«Обзор от ИИ»"
            # Прошлый селектор, который перестал работать:
            # ```
            # :has(> [data-al="Обзор от ИИ готов"])
            # ```
            # 
            # Другие потенциально полезные подселекторы:
            # ```
            # [data-loaded="1"]
            # [data-animation-nesting=""]
            # ```
            # 
            # Неудачные селекторы:
            # * `:has(#m-x-content)` — срабатывает ТОЛЬКО после того, как пришёл
            #   ответ от сервера.
            # * `:has([aria-label="Об этом результате"])` — срабатывает ТОЛЬКО
            #   после того, как пришёл ответ от сервера.
            # * `#rso` — не всегда блок «Обзор от ИИ» стоит под крылом «#rso».
            selectors:
              # Когда блок «Обзор от ИИ» стоит первым:
              - '#rcnt > div:has(> h1):has([data-mcp])'
              # Когда блок «Обзор от ИИ» стоит вторым (см., например, запрос
              # `openssl certificate friendlyname`):
              - '#rcnt #rso :has(> * > h2):has([data-mcp])'
          - title: "«Вопросы по теме» и «Другие также ищут»"
            description: >-
              Набор дополнительных поисковых запросов ВЫШЕ поисковой выдачей
              и НИЖЕ
            selectors:
              - '[data-initq]'  # Один раз этот селектор НИЖЕ поисковой выдачи
                                # НЕ ВСТРЕТИЛСЯ!
              - '#botstuff :has(~ [role="navigation"]):has([data-q])'
          - title: "Пояснения к фильтрации результатов"
            description: >-
              Текст «Некоторые результаты поиска могли быть удалены
              в соответствии с местным законодательством»
            selectors: ['#botstuff > * > :has([href$="/policies/faq"])']
          - title: "Синий йети"
            description: >-
              Анимированный сигий йети, отображаемый на экране если Google в
              ответ на поисковый запрос вернул 0 результатов.
              Причём он НЕ отображается, если выбрать поисковую категорию
              «Видео».
              
              Меня заебало видеть этого йети.
            selectors: ['#rcnt #botstuff div[role="img"]:has(svg g[clip-path])']
      SearchPageTopNav:
        description: "Верхняя навигационная панель"
        super_selector: ['#main']
        selectors:
            # `:not([__is_owner])` позволяет отфильтровать только те ссылки,
            # которые НЕ в выпадающем меню «Ещё». Чтобы само меню «Ещё»
            # не исчезало.
            
          - title: "«Режим ИИ»"
            description: >-
              Ссылка «Режим ИИ» в навигационной панели выше поисковой выдачи
              левее ссылки «Все» и «Картинки»
            # Нахождение селектора ОЧЕНЬ ТЯЖЕЛО.
            # 
            # URL-параметры, уникальные конкретно для ссылки «Режим ИИ» и
            # отсутствующие у остальных ссылок:
            # * `source`
            # * `aep`
            # * `ntc`
            selectors:
              - >-
                [role="navigation"][tabindex="-1"] [role="list"] >
                :not(:has([aria-expanded])):first-of-type:has([href^="/search?"][href*="ntc="])
          - title: "«Короткие видео»"
            description: >-
              Ссылка «Короткие видео» в навигационной панели выше
              поисковой выдачи левее всплывашек «Ещё» и «Инструменты»
            # `udm=39`, судя по всему, однозначно определяет ссылку у бэкенда
            # именно на короткие видео, а не на картинки, новости или покупки.
            selectors:
              - >-
                [role="navigation"][tabindex="-1"] [role="list"] >
                :not(:has([aria-expanded])):has([href^="/search?"][href*="udm=39"])
          - title: "«Новости»"
            description: >-
              Ссылка «Новости» в навигационной панели выше поисковой выдачи
            # `tbm=nws`, судя по всему, однозначно определяет ссылку у бэкенда
            # именно на новости (nws - news), а не на картинки, новости или покупки.
            selectors:
              - >-
                [role="navigation"][tabindex="-1"] [role="list"] >
                :not(:has([aria-expanded])):has([href^="/search?"][href*="tbm=nws"])
  - title: "YouTube"
    domains: ["youtube.com"]
    # YouTube для плиток в мобильном веб-интерфейсе использует префикс «ytm»,
    # а в десктопном — «ytd». Например, HTML-теги `ytm-rich-section-renderer`
    # и `ytd-rich-section-renderer`.
    selector_groups:
      MainPage:
        description: "Заглавная страница"
        super_selector:
          # Раньше был селектор «#app». Он наблюдается в мобильной версии
          # (у «ytm-app#app»), но не у десктопной версии.
          - 'ytd-app #primary'         # У десктопной версии.
          - 'ytm-app .page-container'  # У мобильной версии.
        # К сожалению, некоторые «ytm-rich-section-renderer» (или
        # «ytd-rich-section-renderer») полезны, но присутствуют только в
        # мобильной версии веб-интерфейса. Так, «ytm-rich-section-renderer»
        # используется в основном для мусора типа шортсов, но иногда встречаются
        # посты, сделанные авторами ютуб-каналов.
        selectors:
          - title: "Реклама YouTube Premium"
            selectors: ["#masthead-ad"]
          - title: '«Shorts»'
            selectors:
              # У мобильной версии:
              - 'ytm-rich-section-renderer:has(ytm-shorts-lockup-view-model)'
              # У десктопной версии:
              - 'ytd-rich-section-renderer:has(ytm-shorts-lockup-view-model)'
              # (В десктопной версии используется именно ytm-shorts,
              # а не ytd-shorts.)
          - title: '«Ещё темы» / «Популярные новости»'
            selectors:
              # У десктопной версии:
              - 'ytd-rich-section-renderer:has(ytd-chips-shelf-with-video-shelf-renderer)'
              - 'ytd-rich-section-renderer:has(yt-lockup-view-model)'
              # У мобильной версии:
              - 'ytm-rich-section-renderer:has(ytm-video-with-context-renderer)'
              # Иногда у мобильной версии данный блок появляется без каких-либо
              # видео — только теги.
              - 'ytm-rich-section-renderer:has(.ytm-chips-shelf-view-model__chips-shelf-item)'
              # Для мобильной версии на всякий случай добавил ещё вот такие
              # селекторы:
              - 'ytm-rich-section-renderer:has(ytm-chips-shelf-with-video-shelf-renderer)'
              - 'ytm-rich-section-renderer:has(yt-lockup-view-model)'
          - title: '«YouTube Игротека»'
            selectors:
              # У мобильной версии:
              - 'ytm-rich-section-renderer:has([href^="/playables"])'
              # У десктопной версии:
              - 'ytd-rich-section-renderer:has([href^="/playables"])'
          - title: 'Реклама'
            description: >-
              Вставка рекламы между видосами
            selectors:
              # У десктопной версии:
              - 'ytd-rich-item-renderer:has(ytd-ad-slot-renderer)'
              # У мобильной версии рекламу вроде заметил, но не успел поймать
              # селектор. Поэтому, пускай будет такой:
              - 'ytm-rich-item-renderer:has(ytm-ad-slot-renderer)'
      VideosSearchPage:
        description: "Веб-страница поиска видео"
        super_selector:
          # У десктопной версии:
          - 'ytd-app #primary #header-container + #contents > ytd-item-section-renderer'
          # У мобильной версии:
          - 'ytm-app ytm-search > ytm-section-list-renderer > lazy-list > ytm-item-section-renderer'
          # («#primary» у мобильной версии отсутствует)
        selectors:
          - title: "Реклама"
            description: >-
              Реклама через каждые N элементов поисковой выдачи. Блоки рекламы
              оформлены как блоки видео (с тамбнейлом, заголовком, описанием)
            selectors:
              # Раньше селектор был такой: «> ytd-ad-slot-renderer».
              - 'ytd-rich-item-renderer:has(ytd-ad-slot-renderer)'
              - 'ytd-search-pyv-renderer:has(ytd-ad-slot-renderer)'
              - 'ytm-rich-item-renderer:has(ytm-ad-slot-renderer)'
          - title: "Блок «Shorts»"
            description: >-
              Блок с несколькими Shorts'ами (на данный момент до 5 в ширину).
              Появляется через каждые N элементов поисковой выдачи.
            selectors:
              - 'grid-shelf-view-model:has(ytm-shorts-lockup-view-model)'
          - title: "Блок с лишними видео"
            # На данный момент, такой блок появляется у десктопной версии.
            description: >-
              Блок с заголовками «Другие видео, которые посмотрели зрители» и
              «Видео для вас». Блок «Видео для вас» — это вообще видео из
              рекомендаций, которые не имеют отношения к текущему поисковому
              запросу
            selectors:
              - 'ytd-shelf-renderer:has(#dismissible ytd-vertical-list-renderer)'
      LeftSidebar:
        description: "Сайдбар (панель слева)"
        # Данный сайдбар встречается только на десктопной версии. У мобильной
        # версии он отсутствует не только в плане UI/UX, но и в DOM-дереве.
        super_selector: ['tp-yt-app-drawer #guide-renderer']
        selectors:
          - title: "Кнопка «Справка»"
            description: >-
              Кнопка «Справка» ниже кнопки «Жалобы»
              и выше кнопки «Отправить отзыв»
            selectors:
              - '#sections > * ytd-guide-entry-renderer:has([title="Справка"])'
          - title: "Кнопка «Отправить отзыв»"
            description: >-
              Кнопка «Отправить отзыв» ниже кнопки «Справка»
              и выше нижнего колонтитула
            selectors:
              - >-
                #sections > *
                ytd-guide-entry-renderer:has([title="Отправить отзыв"])
          - title: "Нижний колонтитул"
            description: >-
              Нижний колонтитул сайдбара с «О сервисе», «Прессе»,
              «Авторские права», «Связаться с нами», ..., «Условия
              использования», «Конфиденциальность» и т.д.
            selectors: ["#footer"]
      VideoPage:
        description: "Веб-страница с открытым видео"
        super_selector:
          - '#page-manager'   # У десктопной версии.
          - '.page-container' # У мобильной версии.
        selectors:
          - title: "Магазин автора ютуб-канала"
            description: >-
              Товары, предлагаемые YouTube'ом и автором видео к покупке
              (например, «Товары магазина "Channel Author"»).
              Находится ниже блока с описанием
            selectors:
              - '#primary #below > ytd-merch-shelf-renderer'
              - '#primary #below > ytm-merch-shelf-renderer'  # На данный момент
              # магазин есть только у десктопной версии сайта. Но на всякий
              # данный селектор добавил.
          - title: "Всё, что ниже описания"
            description: >-
              Всё, что внутри блока описания видео (внизу этого блока),
              но не является самим текстовым описанием. Тексты: «Как это было
              сделано» («Автодубляж», «Звуковые дорожки на некоторых языках были
              созданы автоматически. Подробнее»), «Расшифровка видео»
              («Расшифровка позволяет быстро находить в видео нужную информацию»
              и кнопка «Показать текст видео»)
            selectors:
              - >-
                #primary #below ytd-watch-metadata #description
                #structured-description
          - title: "Кнопка «Стать спонсором»"
            description: >-
              Кнопка «Стать спонсором», находящаяся левее кнопки «Подписаться»
            selectors: ['#primary #sponsor-button']
          - title: "Реклама в сайдбаре справа"
            description: >-
              Видео-реклама, отображаемая как все остальные видео в сайдбаре
              правее от текущего открытого видео.
            selectors:
              # С десктопной версии:
              - >-
                #columns #secondary #related #items > ytd-item-section-renderer
                > #contents > ytd-ad-slot-renderer
              # Адаптивный дизайн (т.е. десктопная версия, если ей задать
              # размеры экрана как у мобильной версии):
              - >-
                #columns #primary #below #related #items >
                ytd-item-section-renderer > #contents > ytd-ad-slot-renderer
          - title: "Реклама над блоком с рекомендованными видео"
            description: >-
              Реклама над блоком с рекомендованными видео. Не походит на видео
              из рекомендуемых ютубом. Это видно с мобильной версии сайта,
              у которой выше идёт описание текущего открытого видео, затем блок
              с комментариями, затем блок с рекламой, затем блок с
              рекомендуемыми видео
            selectors:
              - >-
                .watch-below-the-player > .watch-content >
                ytm-item-section-renderer:has(ad-slot-renderer)
  - title: "Ozon"
    domains: ["ozon.ru"]
    selector_groups:
      MainPage:
        description: "Заглавная страница"
        super_selector: ['#layoutPage']
        selectors:
          - title: "Одна огромная плитка-карусель с рекламой"
            tags: ["ad"]
            selectors: ['[data-widget="advBanner"]']
          - title: "Полоса из реклам"
            tags: ["ad"]
            selectors: ['[data-widget="imageList"]:has([title="Реклама"])']
      ProductTiles:
        description: "Плитки товаров"
        super_selector: ['#layoutPage .tile-root']
        selectors:
          - title: "Надписи поверх тамбнейла продукта"
            tags: ["junk"]
            selectors:
              - 'section:has([title="Чёрная пятница"])'
              - 'section:has([title="Вау-цены"])'
              - 'section:has([title="Цена что надо"])'
              - 'section:has([title="Электронная"])'
              - 'section:has([title="Распродажа"])'
              - 'section:has([title="Новинка"])'
              - 'section:has([title*="баллов за отзыв"])'
              - 'section:has([title^="Осталось"])' # «Осталась 1 шт»
              - 'section:has([title^="Осталась"])' # «Осталось 2 шт»
          - title: "Значок Ozon и надпись «Ozon» рядом с количеством отзывов"
            description: "Сам Ozon никак не описывает для чего они"
            tags: ["junk"]
            selectors: ['.tsBodyMBold > span:has([style*="--textOzon"])']
          - title: "Логотип бренда"
            description: >-
              Логотип бренда, помещаемый поверх изображения продукта
              в верхнем левом краю
            # Как проверять работоспособность селектора: искать «кетчуп»,
            # искать «макароны», искать «Яшкино»
            selectors: ['> a:has(img[fetchpriority="auto"])']
      ProductPage:
        description: "Страница товара"
        super_selector: ['#layoutPage']
        selectors:
          - title: "Хештеги"
            selectors: ['[data-widget="webHashtags"]']
          - title: "Синяя кнопка с вопросительным знаком"
            description: >-
              Появляется на странице товара. При нажатии отображает
              «Опрос о странице товаров»
            selectors: ['[data-widget="webFeedbackForm"]']
          - title: "Реклама в комментариях"
            description: >-
              Блоки с товарами между каждыми тремя комментариями.
              Текст: «Рекомендуем также»
            selectors:
              - >-
                [data-widget="webReviewTabs"] :has(>
                [data-widget="webListReviews"]) > [data-widget="skuGrid"]
      WebUI:
        description: "Веб-интерфейс"
        super_selector: ['#layoutPage']
        selectors:
          - title: "Подвал"
            # Если выделить просто «footer», то будет неправильно отображаться
            # скроллинг, дошедший до конца
            selectors: ['footer > *']
          - title: "Нижняя часть шапки"
            description: "Всё что является нижней частью шапки"
            selectors: ['[data-widget="wallpaper"] #stickyHeader ~ *']
          - title: "«Товары российских брендов»"
            description: >-
              Длинный тонкий баннер-картинка на всю длину экрана ниже шапки.
              Надпись на картинке: «Товары российских брендов»
            selectors:
              - >-
                header[data-widget="header"] ~
                [data-widget="row"]:has([target="_blank"][href*="sdelano-v-rossii"])
          - title: "Навигационная панель сверху"
            description: >-
              Навигационная панель сверху со следующими ссылками: «Ozon fresh»,
              «Ozon карта», «Билеты, отели», «Для бизнеса», «Одежда»,
              «Электроника», «Дом и сад», «Товары за 1₽», «Сертификаты».
              Проблема в том, что для доступа к каталогам продуктов всегда есть
              кнопка «Каталог» правее логотипа. Данная навигационная панель
              содержит скорее больше мусора, чем полезных ссылок
            selectors: ['[data-widget="header"] [data-widget="horizontalMenu"]:has([href*="/travel/?"])']
          - title: "Просьба о помощи"
            description: >-
              Тонкий длинный баннер с надписью «ПОМОГИТЕ ТЕМ, КТО НУЖДАЕТСЯ»
              и белой кнопкой «Помочь»
            selectors: ['[data-widget="header"] ~ :has([href="https://www.ozon.ru/special/care/"])']
          - title: "Куки"
            description: >-
              Квадратное окошко о куки с надписью «Используем куки и
              рекомендательные технологии» и синей кнопкой «ОК»
            selectors: [':has( > * > [data-widget="cookieBubble"])']
  - title: "Reddit"
    domains: ["reddit.com"]
    selector_groups:
      Ad:
        description: "Реклама"
        super_selector: ['shreddit-app shreddit-feed']
        selectors:
          - title: "Рекламные посты"
            description: >-
              Рекламные посты, появляющиеся посреди ленты
              через каждые 5-7 обычных постов. Текст: «Promoted»
            tags: ["ad"]
            selectors: ["shreddit-ad-post", "shreddit-ad-post + hr"]
      WebUI:
        description: "Веб-интерфейс"
        super_selector: ['shreddit-app reddit-header-large']
        selectors:
          - title: "Кнопка «Advertise on Reddit»"
            description: >-
              Кнопка «Advertise on Reddit» вверху справа (в шапке).
              На значке нарисовано слово «Ad»
            selectors: ['[data-part="advertise"]']
      SidebarLeft:
        description: "Сайдбар (панель слева)"
        # Предыдущий родительский селектор (он работал на десктопе, но
        # НЕ работал на мобильной версии):
        # ```
        # shreddit-app #left-sidebar-container
        # ```
        super_selector: ['shreddit-app #left-sidebar']
        selectors:
          - title: "«GAMES ON REDDIT»"
            selectors:
              - ":has(> games-section-badge-controller)"
              - ":has(> games-section-badge-controller) + hr"
          - title: "«RESOURCES»"
            description: >-
              Блок «RESOURCES». Ссылки в блоке: «About Reddit», «Advertise»,
              «Developer Platform», «Reddit Pro» («BETA»), «Help», «Blog»,
              «Careers», «Press», «Communities», «Best of Reddit»,
              «Reddit Rules», «Privacy Policy», «User Agreement»,
              «Accessibility»
            selectors:
              - ':has(> faceplate-expandable-section-helper #RESOURCES)'
          - title: "«All rights reserved»"
            description: "Надпись «Reddit, Inc. © 2025. All rights reserved.»"
            selectors: [':has(> [href="https://redditinc.com"])']
      SidebarRight:
        description: "Сайдбар (панель справа)"
        super_selector: ['shreddit-app #right-sidebar-container']
        selectors:
          - title: "Ссылки внизу сайдбара"
            description: >-
              Ссылки «Reddit Rules», «Privacy Policy», «User Agreement»,
              «Accessibility» и ссылка (ссылка!) «Reddit, Inc. © 2025.
              All rights reserved.» внизу сайдбара
            selectors: [".legal-links"]
          - title: "Реклама ВЫШЕ и НИЖЕ сайдбара"
            description: >-
              Квадратные iframe-ы с рекламой выше и ниже сайдбара
              (панели справа). Надпись: «PROMOTED»
            selectors: ['[bundlename="sidebar_ad"]']
          - title: "RECENT POSTS"
            description: >-
              Блок «RECENT POSTS». Здесь появляются посты, которые я недавно
              посещал. Это ненужный функционал, т.к. у браузеров всегда есть
              история. Если же пользователь зашёл из режима «Инкогнито», то
              потребность в данном блоке действительно может возникнуть. Но это
              скорее исключение, чем правило. Если же так нужно узнать последние
              посты, то можно временно и выключить uBlock Origin.
            selectors: ['#right-sidebar-contents recent-posts']
      PostPage:
        description: "Страница поста"
        super_selector: ['shreddit-app']
        selectors:
          - title: "Реклама под постом"
            tags: ["ad"]
            selectors: ["shreddit-comments-page-ad"]
      Other:
        description: "Остальное"
        selectors:
          - title: "Предложения сыграть в игру"
            description: "Игры оформлены как обычные посты в Reddit"
            selectors: ["#main-content article:has(> shreddit-post[game])"]
  - title: "Stack Overflow и Stack Exchange"
    domains:
      - "stackoverflow.com"
      - "superuser.com"
      - "stackexchange.com"
      - "serverfault.com"
      - "mathoverflow.net"
      - "stackapps.com"
      - "askubuntu.com"
    selector_groups:
      LeftSidebar:
        description: "Сайдбар (панель слева)"
        super_selector: ['#left-sidebar']
        selectors:
          - title: "«AI Assist»"
            description: >-
              Пункт меню «AI Assist».
              Ведёт на страницу «https://stackoverflow.ai»"
            selectors: [":has(> #nav-askstack)"]
          - title: "«Jobs»"
            description: "Пункт меню «Jobs»"
            selectors: [":has(> #nav-labs-jobs)"]
          - title: "«Companies»"
            description: "Пункт меню «Companies»"
            selectors: [":has(> #nav-companies)"]
          - title: "«Collectives»"
            description: "Какой-то функционал, названный «Collectives»"
            selectors: [':has(> #nav-questions) ~ *:has([aria-controls="popover-discover-collectives"])']
          - title: "«STACK INTERNAL»"
            # Встретилось на портале anime.stackexchange.com
            description: >-
              Какой-то функционал, названный «Stack Internal».
              В ссылках есть слово Teams
            selectors:
              - '.nav-links > :has([href^="https://stackoverflowteams.com/teams/"])'
              - '.nav-links > :has([href^="https://stackoverflow.co/internal/"])'
              - '.nav-links > :has(+ * [href^="https://stackoverflow.co/internal/"])'
              - '.nav-links > :has([href^="https://stackoverflow.co/internal/"]) + li'
          - title: "«Articles»"
            description: >-
              Ссылка на раздел блога Stack Overflow со статьями,
              сгенерированными пользователями Stack Overflow
            selectors: ['.nav-links :has(> [href^="https://stackoverflow.blog/contributed"])']
          - title: "Collectives"
            description: >-
              Какой-то функционал, названный «Collectives».
              Расположено ниже всех пунктов навигационного меню сайдбара
            selectors: ['.nav-links > * :has(> [href="/collectives-all"])']
      RightSidebar:
        description: "Сайдбар (панель справа)"
        super_selector: ['#sidebar']
        selectors:
          - title: "Блог"
            description: "Ссылки на статьи из блога Stack Overflow"
            selectors: ['> :has([href^="https://stackoverflow.blog/"])']
          - title: "Collectives"
            description: >-
              Блок «Collectives» (коллективы;
              например, Google Cloud, AWS, Microsoft Azure)
            selectors: ['> :has([href="/collectives-all"])']
          - title: "Hot Network Questions"
            description: "Блок с вопросами из других платформ Stack Exchange"
            selectors: ["#hot-network-questions"]
          - title: "Community activity"
            description: "Блок со статистикой сайта"
            selectors: [":has(> stack-heartbeat-liveliness)"]
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Кнопка Help Center"
            description: >-
              Круглая кнопка со всплывающим меню. Расположена там,
              где ряд кнопок правее от аватарки сверху справа
            selectors: [':has(> #search) > nav > ol > li:has(> a[href="/help"])']
          - title: "Кнопка сайтов Stack Exchange"
            description: >-
              Круглая кнопка со всплывающим списком сайтов Stack Exchange.
              Расположена там, где ряд кнопок правее от аватарки сверху справа
            selectors: [':has(> #search) > nav > ol > li:has([href="https://stackexchange.com"])']
          - title: "Ссылка «Products»"
            description: >-
              Ссылка «Products» левее от логотипа Stack Overflow
              и правее от поисковой строки
            selectors: [':has(> #search) li:has([data-text="Products"])']
          - title: "Баннер об AI Assist"
            description: >-
              Длинный тонкий баннер, объявляющий о запуске фичи AI Assist
              на Stack Overflow. Надпись: «AI Assist is now on Stack Overflow.
              Start a chat to get instant answers from across the network.
              Sign up to save and share your chats.».
              Впервые встречено на superuser.com будучи неавторизованным
            selectors: ['body > #announcement-banner:has([href*="//stackoverflow.com/ai-assist"])']
      QuestionPage:
        description: "Веб-страница вопроса"
        super_selector: ['#answers']
        selectors:
          - title: "Авторизоваться для ответа"
            description: >-
              Форма авторизации, расположенная ниже формы ввода ответа.
              Отображается только у неавторизованных пользователей,
              т.е. у гостей
            selectors: ["#post-form .new-login-form"]
          - title: "Предупреждение о Privacy Policy"
            description: >-
              Предупреждение следующего содержания:
              «By clicking “Post Your Answer”, you agree to our terms of service
              and acknowledge you have read our privacy policy».
              Отображается только у неавторизованных пользователей, т.е. у гостей
            # «#post-form» — это работает если Stack Overflow разрешает оставить
            # ответ под вопросом. Если такой формы нет, то и Privacy Policy
            # соответственно тоже нету.
            selectors: ['#post-form .form-submit :has(> [href*="privacy-policy"])']
          - title: "Предложение задать вопрос и исследовать теги"
            description: >-
              Предложение задать новый вопрос («Start asking to get answers»)
              и исследовать теги («Explore related questions»)
            # ВАЖНО, что Stack Overflow может не разрешать добавлять новые
            # ответы. Прошлый селектор, который это НЕ учитывал:
            # ```
            # #answers #post-form + .js-bottom-notice
            # ```
            selectors: [".js-bottom-notice"]
      Other:
        description: "Остальное"
        selectors:
          - title: "«Вход через аккаунт Google»"
            description: "Попап «Вход через аккаунт Google» справа сверху"
            selectors: ["#credential_picker_container"]
          - title: "Подвал"
            # У портала anime.exchange.com довольно красивая зарисовка в подвале,
            # поэтому решил её оставить, а всё остальное скрыть.
            selectors: ["footer > *"]
          - title: "Cookie"
            description: >-
              Огромное предупреждение о куки («We Care About Your Privacy»),
              занимающее почти всю высоту левой части экрана
            selectors: ["#onetrust-banner-sdk"]
  - title: "Shikimori (Шикимори)"
    domains: ["shikimori.one"]
    selector_groups:
      MainPage:
        description: "Заглавная страница"
        selectors:
          - title: "«Темы дня»"
            description: "Панель «Темы дня» сверху"
            selectors: [".b-hot_topics-v2"]
      Other:
        description: "Остальное"
        selectors:
          - title: "Подвал"
            selectors: ["footer"]
      Sidebar:
        description: "Сайдбар (панель справа)"
        selectors:
          - title: "Реклама"
            description: >-
              Пункт меню «AI Assist».
              Ведёт на страницу «https://stackoverflow.ai»
            selectors:
              - ".b-animes-menu .spns_special_x300"
              - ".b-animes-menu .spns_special_mini"
  - title: "Pinterest (пинтерест)"
    domains: ["pinterest.com"]
    selector_groups:
      Other:
        description: "Остальное"
        selectors:
          - title: "«Вход через аккаунт Google»"
            description: "Попап «Вход через аккаунт Google» справа сверху"
            # Альтернативный селектор:
            # ```
            # :has(> iframe[src*="accounts.google.com/gsi/iframe"])
            # ```
            selectors: ["#credential_picker_container"]
  - title: "Twitter / X (твиттер / икс)"
    domains: ["x.com", "twitter.com"]
    selector_groups:
      Other:
        description: "Остальное"
        selectors:
          - title: "«Вход через аккаунт Google»"
            description: "Попап «Вход через аккаунт Google» справа сверху"
            selectors: ["#credential_picker_container"]
          - title: "«Мы используем файлы cookie»"
            selectors: ['[data-testid="BottomBar"]:has(button)']
          - title: "«Будьте в курсе событий»"
            description: >-
              Панель внизу с предложением войти или зарегистрироваться
            selectors: ['[data-testid="BottomBar"]:has([href^="/login"])']
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Нижний колонтитул"
            description: >-
              Нижний колонтитул сайдбара и заглавного меню (https://x.com)
              с «Условия предоставления услуг», «Политика конфиденциальности»,
              «Политика в отношении файлов cookie», «Специальные возможности»,
              «Информация о рекламе» и «© 2025 X Corp.»
            # Прошлый селектор (охватывал только сайдбар, размещаемый в сайдбаре (т.е. панели справа)):
            # ```
            # [data-testid=\"sidebarColumn\"] :has(> [aria-label=\"Нижний колонтитул\"])
            # ```
            selectors: [':has(> [aria-label="Нижний колонтитул"])']
  - title: "MyAnimeList (MAL)"
    domains: ["myanimelist.net"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Баннер-реклама в самом верху"
            description: >-
              Баннер-реклама ведёт на страницу https://mxj.myanimelist.net/
            selectors: [":has(~ #header-menu)"]
          - title: "Кнопка «Hide Ads»"
            description: >-
              Оранжевая кнопка «Hide Ads» левее кнопок «Login» и «Sign Up»
            selectors: ['#header-menu [data-ga-impression-type="hide-ads"]']
          - title: "Подвал"
            selectors: ["footer"]
          - title: "Подвал с ТОПами по аниме, аниме-персонажам и т.д."
            selectors: [".footer-ranking"]
  - title: "Ями Аниме (Yummy Anime)"
    domains: ["site.yummyani.me"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Общий чат"
            description: >-
              Круглая кнопка общего чата внизу справа
              (будто это кнопка Поддержки)
            selectors: ["#chatter"]
          - title: "Подвал"
            selectors: ["footer"]
      Sidebar:
        description: "Сайдбар (панель справа)"
        super_selector: ['.sidebar']
        selectors:
          - title: "Статистика"
            selectors: [":has(> .statistics-body)"]
          - title: "Постеры"
            description: >-
              Постеры со ссылками на Discord, Telegram, ВК, Boosty и Пикабу
            selectors: [".posters-side"]
  - title: "Wildberries"
    domains: ["wildberries.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ['footer#footer']
          - title: "Чат с Поддержкой"
            description: "Фиолетовая круглая кнопка справа внизу"
            selectors: ['#mainContainer [aria-label="Чат"]']
          - title: "Ссылки в шапке"
            description: >-
              Ненужные ссылки в шапке (выше поисковой строки): «Wibes», «Отели»,
              «Авиабилеты», «Туры с <...>», «Ресейл», «Бренды», «Новостройки»,
              «Для бизнеса», «Работа в WB»
            selectors: ['#header #diamondsMenu']
      MainPage:
        description: "Заглавная страница"
        selectors:
          - title: "Баннеры"
            description: >-
              1) Длинный тонкий баннер на заглавной странице.
              На момент ноября 2025 отображает чёрный фон с летающими
              розово-фиолетовыми «процентами»; есть надписи «Разгар скидок»
              и «Чёрная пятница».
              2) Карусель из больших баннеров.
              3) Рандомные большие баннеры, которые появляются
              между плитками товаров
            selectors:
              - ".main-page__banner-info:has(.swiper-container)"
              - ".main-page__banner:has(.swiper-container)"
              - ".main-page__banners"
      SearchResults:
        description: "Страница поисковой выдачи"
        selectors:
          - title: "Предложения поиска"
            description: "«Вместе с этим запросом ищут»"
            selectors: [".catalog-page__main .search-tags"]
          - title: "Предложения иных товаров"
            description: "«Возможно, вам понравится:»"
            selectors: [".catalog-page__main .catalog-page__section"]
          - title: "Надписи на изображении товара"
            description: >-
              Надписи поверх изображения товара (карточки товара), например:
              «ХОРОШАЯ ЦЕНА», «ЧЁРНАЯ ПЯТНИЦА», «200 ₽ ЗА ОТЗЫВ»,
              «−65%» (или любое другое число)
            selectors: [".product-card .product-card__tips"]
  - title: "MyGreekDish"
    domains: ["mygreekdish.com"]
    selector_groups:
      RecipePage:
        description: "Веб-страница рецепта"
        selectors:
          - title: "Текст-вода"
            description: >-
              Рекламный текст, не относящийся ни к ингредиентам,
              ни к конкретной инструкции приготовления
            selectors:
              - ":has(~ * > .tasty-recipes-entry-content)"
              - ":has(~ .tasty-recipes-entry-content)"
              - ":has(~ .tasty-recipes-ingredients)"
              - ":has(~ * > * > .tasty-recipes-entry-content)"
  - title: "Форум War Thunder"
    domains: ["forum.warthunder.ru"]
    selector_groups:
      WebUi:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: [".footer"]
  - title: "MediaWiki"
    description: >-
      Википедия, Викисловарь, Викитека, Викиданные, Fandom
      и др. сайты на движке MediaWiki
    domains:
      - "mediawiki.org"
      - "wikipedia.org"
      - "wiktionary.org"
      - "wikibooks.org"
      - "wikivoyage.org"
      - "wikisource.org"
      - "wikiversity.org"
      - "wikinews.org"
      - "wikiquote.org"
      - "wikidata.org"
      - "wikimedia.org"
      - "fandom.com"
      - "wiki.gg"
      - "neerc.ifmo.ru" # Сайт «Викиконспекты» (https://neerc.ifmo.ru/wiki/index.php?title=Заглавная_страница)
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: [".mw-footer"]
          - title: "Дисклеймер"
            description: >-
              Дисклеймер «Материал из Википедии — свободной энциклопедии»
            selectors: ["#content #siteSub"]
  - title: "GitHub (гитхаб)"
    domains: ["github.com"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ["footer.footer"]
      Header:
        description: "Шапка сайта"
        selectors:
          - title: "Кнопка «Chat with Copilot»"
            selectors: [".AppHeader .AppHeader-CopilotChat"]
      SidebarLeft:
        description: "Сайдбар (панель слева)"
        selectors:
          - title: "Пункт «Copilot»"
            selectors: ['ul[class*="ActionList-GroupList"] :has(> a[href="/copilot"])']
      SidebarRight:
        description: "Сайдбар (панель справа)"
        super_selector: ['.repository-content .Layout-sidebar']
        selectors:
          - title: "«Readme»"
            description: >-
              Ссылка-дубль на README. Проблема в том, что README как бы
              на экране показывается, а значит дополнительная ссылка не нужна
            selectors: [':has(> [href^="#readme"])']
          - title: "Ссылка на релизы"
            description: >-
              Является дублем такой же ссылки, стоящей выше (h2-заголовок))
            selectors: [':has(> [href$="/releases"]):not(h2)']
          - title: "Скрытие блока с релизами если он пустой"
            description: >-
              Скрытие блока с релизами если ни одного релиза или тега нету
              (для чужих репозиториев)
            # ВАЖНО, что если блок у чужого репозитория — то скрывать можно, а
            # если у своего — нежелательно, т.к. там есть ссылка на создание
            # релиза (а эта ссылка — единственная в веб-интерфейсе для создания
            # релиза).
            selectors: ['.BorderGrid-row:has(a[href$="/releases"]):not(:has([href*="/releases/"]))']
          - title: "Скрытие блока с пакетами если он пустой"
            description: >-
              Скрытие блока с пакетами если ни одного пакета нету
              (для чужих репозиториев)
            # ВАЖНО, что если блок у чужого репозитория — то скрывать можно, а
            # если у своего — нежелательно, т.к. там есть ссылка на создание
            # пакета (а эта ссылка — единственная в веб-интерфейсе для создания
            # пакета).
            selectors:
              - >-
                .BorderGrid-row:has([href*="/packages"]):not(:has(ul
                [href*="/packages"])):not(:has(h2 + div > a))
      UserMenu:
        description: "Всплывашка, появляющаяся по нажатию на свою аватарку справа сверху"
        selectors:
          - title: "Пункт «Copilot settings»"
            selectors:
              - >-
                :has(> [aria-label="User navigation"]) :has(> * >
                [href*="tab=repositories"]) :has(> [href="/settings/copilot"])
          - title: "Пункт «Try Enterprise»"
            selectors:
              - >-
                :has(> [aria-label="User navigation"]) :has(> * >
                [href*="tab=repositories"]) :has(>
                [href*="/organizations/enterprise_plan"])
  - title: "GitHub Docs (документация гитхаба)"
    domains: ["docs.github.com"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ["#main-content + footer"]
  - title: "Авито (avito)"
    domains: ["avito.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        super_selector: ['#app']
        selectors:
          - title: "Подвал"
            selectors: ["[class*=\"module__footer\"]"]
          - title: "Баннер вверху"
            description: >-
              Баннер в самом верху. Надпись на нём: «Чёрная пятница до
              30 ноября — ловите суперскидки и товары за 99 ₽»
            selectors: ['[class*="top-banner"]']
          - title: "Выпадающее меню «Для бизнеса»"
            description: "Выпадающее меню «Для бизнеса» сверху"
            selectors: ['[data-marker="header/navbar"] ul > li:has([href*="avito.ru/business"])']
          - title: "Ссылка «Карьера в Авито»"
            description: "Ссылка «Карьера в Авито» сверху"
            selectors: ['[data-marker="header/navbar"] ul > li:has([href*="career.avito.com"])']
          - title: "Ссылка «Помощь»"
            description: "Ссылка «Помощь» сверху"
            selectors: ['[data-marker="header/navbar"] ul > li:has([href*="support.avito.ru"])']
          - title: "Ссылка «#яПомогаю»"
            description: "Ссылка «#яПомогаю» сверху"
            selectors: ['[data-marker="header/navbar"] ul > li:has([href^="/avito-care"])']
      Page:
        super_selector: ['#app']
        description: "Веб-страница объявления"
        selectors:
          - title: "Реклама Авито Рекламы"
            selectors: ['[class*="avito-ads-container"]']
  - title: "SteamDB"
    domains: ["steamdb.info"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: [".footer"]
          - title: "«Support SteamDB»"
            description: >-
              Баннер с просьбой задонатить сайту. Надписи:
              «Ad-free Steam data for everyone since 2012»,
              «Support SteamDB», «Donate or contribute»
            selectors: ['a[href="/donate/"]']
          - title: "Подвал навигационного меню"
            description: >-
              Подвал навигационного меню, раскрываемого по нажатию на кнопку
              «Menu» сверху слева
            selectors:
              - ".header-menu .header-socials"
              - ".header-menu .header-disclaimer"
              - ".header-menu .header-kbd"
  - title: "Steam"
    domains: ["store.steampowered.com"]
    selector_groups:
      MainPage:
        description: "Заглавная страница"
        selectors:
          - title: "«Трансляция»"
            description: >-
              Значок «Трансляция» поверх тамбнейла некоторых игр
              на заглавной странице стима
            selectors: [".broadcast_live_stream_icon"]
          - title: "Предложение авторизоваться"
            description: >-
              Блок с надписями «Ищете рекомендации?», «Войдите, чтобы
              просмотреть личные рекомендации» и «Или присоединитесь к Steam
              бесплатно», а также кнопкой «Войти»
            selectors: [".responsive_page_content #content_login"]
          - title: "Предложение авторизоваться"
            description: >-
              Блок с надписями «Вы не вошли в аккаунт!», «Откройте эту страницу
              в приложении Steam, чтобы купить продукт, добавить его в желаемое,
              подписаться на него и увидеть рекомендации»
              и большой белой кнопкой «Открыть в настольном приложении»
            selectors: [".responsive_page_content .banner_open_in_steam"]
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ["#footer"]
  - title: "Microsoft Learn (Microsoft Docs)"
    domains: ["learn.microsoft.com"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Баннер про машинный перевод"
            description: >-
              Баннер о том, что текст был переведён средствами
              машинного перевода. Текст: «Этот текст может быть частично
              переведен средствами машинного перевода или ИИ»
            selectors: ["#disclaimer-holder"]
          - title: "Подвал"
            selectors: [".layout-body-footer"]
      SidebarLeft:
        description: "Сайдбар (панель справа)"
        selectors:
          - title: "Фидбек (feedback) / обратная связь"
            description: >-
              Блок с вопросом: «Были ли сведения на этой странице полезными?»
            selectors: ['#layout-body-aside [data-test-id="site-user-feedback-right-rail"]']
  - title: "Mozilla"
    domains: ["mozilla.org"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            description: >-
              Подвал сайта занимает приблизительно 90% всей высоты экрана
            selectors: ["#outer-wrapper > footer"]
  - title: "MDN (Mozilla Developer Network) / Mozilla Web Docs"
    domains: ["developer.mozilla.org"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: [".page-layout__footer"]
          - title: "Рекламный баннер"
            description: >-
              Баннер с рекламой выше всей веб-страницы. Текст:
              «Learn front-end development with high quality,
              interactive courses from Scrimba»
            selectors: [".page-layout__banner"]
          - title: "Фидбек (feedback) / обратная связь"
            description: >-
              Блок с надписью «Help improve MDN»
              ниже основного содержания статьи
            selectors: ['.article-footer[aria-labelledby="feedback"]']
          - title: "Ссылка «Blog»"
            description: "Ссылка «Blog» в верхней навигацонной панели"
            selectors: ['.page-layout__header .navigation__menu .menu__tab[data-section="blog"]']
          - title: "Ссылка «About»"
            description: "Всплывашка «About» в верхней навигацонной панели"
            selectors: ['.page-layout__header .navigation__menu .menu__tab[data-section="about"]']
  - title: "W3C (Консорциум Всемирной паутины)"
    domains: ["w3.org", "www.w3.org"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: [".global-footer"]
          - title: "Баннер о смене логотипа"
            description: >-
              Баннер о смене логотипа. Располагается выше всего на веб-странице.
              Текст: «We have a new logo! Learn more»
            selectors: ['.global-header .banner:has([href="https://www.w3.org/press-releases/2025/new-logo/"])']
  - title: "Python documentation"
    domains: ["docc.python.org"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: [".footer"]
          - title: "Блок с выбором языка, версии Python и т.д."
            description: >-
              Блок с выбором языка, версии Python и темы, а также с поиском
              и ссылками. Проблема в том, что сверху полностью такая же панель
              уже есть
            selectors: [".related + .document + .related"]
  - title: "AliExpress (иностранный)"
    domains: ["aliexpress.com"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: [".footer-wrap"]
          - title: "Большая квадратная всплывашка"
            description: >-
              Большая квадратная всплывашка посередине экрана,
              которая затемняет весь экран
            # (Найдено здесь: https://nl.aliexpress.com/)
            selectors: [".faas-home-page :has(> .image-poplayer-modal)"]
          - title: "Маленькая квадратная всплывашка"
            description: >-
              Маленькая квадратная всплывашка в левом краю
              в нижней половине экрана
            # (Найдено здесь: https://nl.aliexpress.com/)
            selectors: [".faas-home-page :has(> .drogue-poplayer-modal)"]
  - title: "AliExpress (русский)" # У Алиэкспрессов СИЛЬНО различающиеся веб-сайты
    domains: ["aliexpress.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        super_selector: ['#__aer_root__']
        selectors:
          - title: "Подвал"
            selectors: ['[class*="RedFooter_RedFooter__root__"]']
          - title: "Куки"
            selectors: ['[class*="RecommendationFeedTabs"] + [class*="SnowPrivacyPolicyBanner"]']
  - title: "ChatGPT"
    domains: ["chatgpt.com"]
    selector_groups:
    # Особенность разметки ChatGPT (предположительно): у десктопного
    # веб-интерфейса и у мобильного веб-интерфейса одни элементы скрываются,
    # а другие отображаются. При переходе от десктопа к мобилке и наоборот на
    # одной и той же веб-странице визуально элементы те же самые, хотя
    # в DOM-дереве у каждого элемента есть свой дубль.
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Реклама «Перейти на Plus»"
            description: >-
              Кнопка-всплывашка «Перейти на Plus» (ИЛИ «Бесплатное предложение»
              ИЛИ «Перейти на Go») вверху посередине. Цвет: фиолетовый
            selectors:
              - >-
                #page-header :has(> button[type="button"] >
                svg[aria-hidden="true"]):has(> button[type="button"][aria-label][tabindex="0"]
                > svg[aria-hidden="true"]):not(:has(button[aria-expanded]))
          - title: "Всплывашка «Недостаточно места»"
            description: >-
              Всплывашка, появляющаяся над формой ввода текста.
              Имеет следующие надписи: «В ChatGPT недостаточно места для
              сохраненной памяти» и «Новая память не будет добавляться,
              пока вы не освободите место. Узнать больше»,
              а также имеет чёрную кнопку «Управление»
            selectors:
              - >-
                #thread-bottom button[name="context-connector-pasted-link-popover-trigger"] ~
                :has([href*="//help.openai.com/"][href*="memory"])
          - title: "Куки"
            description: >-
              Предупреждение ниже формы ввода текста. Имеет следующий текст:
              «ChatGPT может допускать ошибки. Проверьте важную информацию.
              См. настройки cookie-файлов»
            selectors: ["#thread-bottom-container > :not(#thread-bottom)"]
          - title: "Всплывашка на весь экран"
            # К сожалению, она больше не появлялась, поэтому не смог её описать.
            selectors: ['body > [data-testid="modal-free-trial-upsell"]']
          - title: "Всплывашка «Попробуйте Plus бесплатно»"
            description: >-
              Всплывашка «Попробуйте Plus бесплатно» выше поля ввода текста
              (и прикреплено к нему)
            selectors: [':has(+ form #prompt-textarea):has(button[data-testid="close-button"])']
  - title: "Habr (Хабр, Хабрахабр)"
    domains: ["habr.com"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        super_selector: ['#app']
        selectors:
          - title: "Реклама выше шапки сайта"
            description: "Большой длинный блок с рекламой выше шапки"
            selectors: ['.header-banner-wrapper:has([id^="adfox"])']
          - title: "Надпись посередине шапки"
            description: >-
              Надпись-ссылка посередине шапки, ссылающая на тот или иной пост
              от команды Хабр. Надпись иногда меняется
            # (Сейчас там надпись «Они летят в космос»)
            selectors: [".tm-header__container .header-feature"]
          - title: "Реклама-всплывашка внизу экрана"
            description: >-
              Длинный всплывающий блок рекламы, прикреплённый к экрану снизу.
              Жёлто-оранжевого цвета
            selectors: [".fixed-banner-wrapper:has(.advertising-info)"]
          - title: "Подвал"
            selectors:
              - ".tm-layout__wrapper .tm-footer-menu"
              - ".tm-layout__wrapper .tm-footer"
      SidebarRight:
        description: "Сайдбар (панель справа)"
        super_selector: ['#app .tm-page__sidebar']
        selectors:
          - title: "Реклама выше и ниже блока «Читают сейчас»"
            selectors:
              - ".tm-layout-sidebar__ads"
              - ".tm-layout-sidebar__banner_bottom"
          - title: "Виджеты компании"
            description: >-
              Виджеты компании автора статьи. Компании используют виджеты для
              рекламирования своих услуг. У одной компании было аж 7 виджетов
            # Пример: https://habr.com/ru/companies/kts/articles/971982/
            selectors: ['.tm-company-widgets section[type="banner"]']
      ArticlePage:
        description: "Веб-страница статьи/поста/новости"
        super_selector: ['#app .tm-page']
        selectors:
          - title: "Реклама выше блока с комментариями"
            description: >-
              Если попытаться проскроллить вниз, чтобы рекламы не было видно,
              то всплывает другая, будучи прикреплённой к верхней стороне экрана.
              Это как бы две рекламы, но одна появляется за другой
            selectors:
              - ".tm-page__wrapper .sponsor-block"
              - ".tm-page__wrapper .tm-article-blocks .sponsor-block"
          - title: "Реклама от компании автора статьи"
            description: >-
              Большой блок-баннер с рекламой от компании, в которой автор статьи
              работает (например, ВК или Selectel)
            selectors: [".tm-page__header"]
          - title: "Кнопка «Объяснить код»"
            description: >-
              Кнопка «Объяснить код» внизу каждого блока
              с кодом в тексте статьи/поста/новости
            selectors: ["#post-content-body .code-explainer"]
  - title: "Internet Archive"
    domains: ["archive.org"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Баннер о донате"
            description: >-
              Большой баннер жёлтого цвета выше шапки сайта, просящий
              задонатить сайту. Одна из надписей:
              «Please Don't Scroll Past This»
            selectors: ["#donate_banner"]
          - title: "Навигация в шапке"
            description: >-
              Полоса с навигационными ссылками в шапке. Ссылки будто бы взяты из
              подвала. Надписи: «ABOUT», «BLOG», «EVENTS», «PROJECTS», «HELP»,
              «DONATE» (с красным SVG-сердечком), «CONTACT», «JOBS», «VOLUNTEER»
            selectors: ["#topnav desktop-subnav"]
          - title: "Подвал"
            description: >-
              Подвал сайта. Состоит из надписи «Terms of Service
              (last updated 12/31/2014)»
            selectors: ["#maincontent .terms-of-service"]
  - title: "Лабиринт (книжный интернет-магазин)"
    domains: ["labirint.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ["#__nuxt > footer"]
          - title: "Куки"
            description: "Баннер о куки"
            selectors: [".cookie-policy"]
  - title: "BiliBili"
    domains: ["bilibili.tv"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "«Вход через аккаунт Google»"
            description: "Попап «Вход через аккаунт Google» справа сверху"
            selectors: ['body > #credential_picker_container']
          - title: "Куки"
            selectors: ['#app .bstar-cookie-info']
          - title: "Кнопка-ссылка «App»"
            description: >-
              Кнопка-ссылка «App» в шапке сайта при наведении отображает
              привелегии, доступные тем, кто скачает приложение BiliBili. Текст:
              «Download the App to enjoy more features», «Higher video quality»,
              «Smoother experience», «Download videos and watch offline»
            selectors:
              - >-
                #app .bstar-header .bstar-header__actions >
                :has(a[href="https://www.bilibili.tv/en/download"][target="_blank"]
                [class*="bstar-downloadApp"])
          - title: "Кнопка-ссылка «Premium»"
            description: >-
              Красно-бордовая кнопка-ссылка «Premium», аналогичная кнопке
              в шапке сайта при наведении отображает привелегии, доступные тем,
              кто купить Premium на BiliBili. Надписи: «Premium Benefits»,
              «Premium Only», «Early Watching», «Early Watching»,
              «Multi-Platform», «Free Downloads» и «Free Downloads»
            selectors:
              - >-
                #app .bstar-header .bstar-header__actions >
                :has(a [class*="bstar-premium"])
      SidebarLeft:
        description: "Сайдбар (панель слева)"
        super_selector: ['#app .bstar-sidebar']
        selectors:
          - title: "Подвал сайдбара"
            description: >-
              Подвал сайдбара. Содержит следующие ссылки: «About us»,
              «Contact us», «Get App», «Terms of Service», «Privacy Policy»,
              «Advertising Policy», «Punishment Rules for Content Violations»,
              «Punishment Rules for Account Violations» и «Infringement
              Complaint», а также текст «© 2025 BiliBili» и
              «provided by balaboom»
            selectors: ['.bstar-sidebar__footer']
          - title: "Пустой блок «Followed»"
            description: >-
              Блок «Followed». Если пользователь не залогинен, то отображает
              следующий текст: «Log in to view your "Followed" content.»,
              а также голубую кнопку «Sign In»
            # (Селектор успешно учитывает, авторизован ли пользоавтель или нет)
            selectors:
              - '.bstar-sidebar__followings:has(.bstar-sidebar__followings-tips)'
      VideoPage:
        description: "Веб-страница видео"
        super_selector: ['#app']
        selectors:
          - title: "Баннер с просьбой купить скачать приложение"
            description: >-
              Баннер-картинка с просьбой скачать приложение BiliBili.
              Располагается в сайдбаре правее видео, выше рекомендаций
              (т.е. рекомендуемых к просмотру видео)
            selectors: ['.video-play .video-player__right .play-page-banner']
  - title: "Fandom (бывш. Wikia)"
    domains: ["fandom.com"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ['footer.global-footer']
          - title: "Уведомление-welcome"
            description: >-
              Появляется внизу слева, но правее левого сайдбара. Текст
              на примере Terraria Wiki (terraria.fandom.com):
              «Discussions are now available on the Terraria Wiki.»,
              «Miss the old Hydra Skin? Try out our Hydralize gadget! Visit the
              preferences page while logged in and turn on the gadget.»
            selectors: ['.notifications-placeholder:has(.sitenotice)']
          - title: "Сайдбар (слева)"
            selectors: ['#global-explore-navigation']
  - title: "wiki.gg"
    domains: ["wiki.gg"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Реклама"
            description: >-
              Рекламный баннер выше вики-страницы и ниже (выше подвала).
            selectors:
              - '#content #wikigg-sl-header:has([target="_blank"])'
              - '#content #wikigg-sl-footer:has([target="_blank"])'
  - title: "Яндекс Маркет"
    domains: ["market.yandex.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ['#footerVisibilityWrapper']
          - title: "Рекламный баннер выше шапки"
            description: >-
              Длинный рекламный баннер выше шапки
            selectors:
              - >-
                [data-apiary-widget-name="@marketfront/MadvHeaderPromo"]:has(~
                #MainHeader)
      SearchResultsPage:
        description: "Веб-страница поисковой выдачи"
        selectors:
          - title: "«Хлебные крошки» запроса"
            description: >-
              «Хлебные крошки» поискового запроса по категориям, например:
              «Продукты - Макароны, крупы - Макароны». Данный блок расположен
              ниже поисковой выдачи и ниже пагинации
            selectors: ['[data-apiary-widget-name="@light/SearchBreadcrumbs"]']
          - title: "Теги запроса"
            description: >-
              Теги, связанные с поисковым запросом. Расположены ниже хлебных
              крошек (которые ниже пагинатора). Подзаголовки: «Часто ищут»,
              «Подборки товаров», «Популярные товары», «Похожие категории»
            # Название селектора («seo/SeoFooter») палит, что данный блок нужен
            # скорее для SEO, чем в помощь покупателю.
            selectors: ['[data-apiary-widget-name="@seo/SeoFooter"]']
      SearchResults:
        description: "Поисковая выдача"
        super_selector: ['[data-zone-name="main"]']
        selectors:
          - title: "Рекламные вставки / спонсорские товары"
            description: >-
              Спонсоркие/рекламные товары, не относящиеся к поисковой выдаче.
              Имеют разный вид. На некоторых написано: «Товары бренда <...>»,
              «Спонскорские товары», а на некоторых вообще нет надписи о рекламе
              или спонсорстве.
            selectors: ['[data-apiary-widget-name="@monetize/IncutConstructor"]']
      MainPage:
        description: "Заглавная страница"
        selectors:
          - title: "Релкамные вставки между товаров"
            description: >-
              Рекламные вставки, появляющиеся между карточек (плиток) товаров
            selectors:
              - >-
                :has(> [data-apiary-widget-name="@marketfront/RecomEntity"]
                [data-apiary-widget-name="@monetize/RecomMediaAdv"])
  - title: "Мегамаркет"
    domains: ["megamarket.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Куки"
            selectors: ['#app .cookie-notification']
          - title: "Блок «Войдите по Сбер ID»"
            description: >-
              Тёмный блок «Войдите по Сбер ID» ниже кнопки «Войти». Текст:
              «Сможете получать бонусы и обменивать их на скидки до 99%».
              Также, присутствует фиолетовая кнопка «Подробнее»
            selectors: ['#app .loyalty-onboarding']
  - title: "Магнит Маркет" # Бывш. «Kazan Express»
    domains: ["mm.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Всплывашка с рекламой"
            description: >-
              Квадратный блок со скруглёнными углами, предлагающий купить товар
              из определённой категории / определённого бренда. Появляется внизу
              справа. Прикреплён к экрану. Текущий текст: «Вам какой кофе?»,
              «В зёрнах, молотый или растворимый — выбирайте свой Monarch со
              скидками в Магнит Маркете». Ниже текста расположена кнопка
              «Заказать» красно-оранжевого оттенка
            selectors: ['.mm-popup-promo']
          - title: "Подвал"
            selectors: ['.app-footer']
          - title: "Каталог ниже шапки"
            description: >-
              Каталог с категориями. Расположен ниже шапки. Пользователю
              НЕ НУЖЕН, т.к. более обширный каталог расположен по нажатию кнопки
              «Каталог» выше (правее логотипа Магнит Маркета). Данный блок
              только глаза мозолит
            selectors: ['.app-header-bottom:has(.categories-list)']
  - title: "Яндекс"
    domains: ["ya.ru"]
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ['body > .b-page__footer:has(footer)']
          - title: "Реклама Яндекс Браузера"
            description: >-
              Реклама Яндекс Браузера на весь экран. См. поисковый запрос
              «скачать браузер»
            selectors: ['body > div.Modal:has(.Distribution-Content)']
          - title: "«Установите Яндекс Браузер»"
            description: >-
              Цветная (градиентная) кнопка «Установите Яндекс Браузер» в шапке
            selectors:
              - >-
                .HeaderDesktop .HeaderDesktopActions
                .HeaderDesktopActions-Distribution
          - title: "Кнопка Алиса"
            description: >-
              Кнопка с логотипом Алисы в шапке, правее от градиентной кнопки
              «Установите Яндекс Браузер»
            selectors:
              - >-
                .HeaderDesktop .HeaderDesktopActions .HeaderDesktopActions-Alice
          - title: "Поисковая категория «алиса»"
            description: >-
              Ссылка «алиса» в нижней части шапки — там где «поиск», «картинки»,
              «видео», «карты», «товары», «финансы» и др.
            selectors:
              - >-
                .HeaderDesktop .HeaderNav
                .HeaderNav-DynamicTabs [href*="promo=force_neuro"]
          - title: "Поп-ап «Алиса AI»"
            description: >-
              Серый поп-ап, возникающий справа сверху (но ниже шапки). Текст:
              «Новая Алиса AI — отвечает в чате с картинками и видео»
            selectors: ['.main .Distribution-Popup']
      ImagesSearchPage:
        description: "Веб-страница поиска картинок"
        super_selector: ['[id^="ImagesApp"]']
        selectors:
          - title: "Реклама выше всех картинок"
            description: >-
              Длинный блок с рекламой выше всех картинок, но ниже шапки, ниже
              параметров поиска («Размер», «Ориентация», «Тип», «Цвет» и т.д.)
              и ниже баннера-предупреждения (например о скрытии изображений:
              «Некоторые изображения были удалены из результатов поиска.
              Подробнее»)
            selectors: ['.AdvMastHead']
          - title: "Реклама между картинками"
            description: >-
              Длинный рекламный блок (на всю длину экрана)
            selectors:
              # Селектор СВЯЗАН с селектором от "Блок «Смотрите также»"
              - >-
                .SerpList [role="list"] >
                .JustifierRowLayout-Incut:not(:has(.JustifierRowLayout-Item)):has([data-log-node])
          - title: "Блок «Смотрите также»"
            description: >-
              Длинный блок «Смотрите также» (во всю длину экрана). Очень похож
              на другой блок — рекламный. Располагает несколько картинок с
              соответствующими надписями, дополняющими текущий поисковый запрос.
            selectors:
              # Селектор СВЯЗАН с селектором от "Реклама между картинками"
              - >-
                .SerpList [role="list"] >
                .JustifierRowLayout-Incut:not(:has(.JustifierRowLayout-Item)):has(.SearchRelatedGallery)
          - title: "Подвал"
            description: >-
              Подвал конкретно у поиска картинок
            selectors: ['.SearchFooter']
      ImagesViewer:
        description: >-
          Просмотрщик картинок. Открывается в поиске изображений при нажатии на
          любую картинку
        super_selector: ['.Modal-Wrapper .ImagesViewer-Layout']
        selectors:
          - title: "Реклама в сайдбаре"
            description: >-
              Реклама в сайдбаре (панель правее картинки)
            selectors:
              # Предыдущий селектор:
              # ```
              # .ImagesViewer-Sidebar :has(> .ViewerTags) ~ :has([data-log-node])
              # ```
              - >-
                .ImagesViewer-Sidebar :has(> h2) ~
                :has([data-log-node])
  - title: "Amazon (амазон)"
    domains: ['amazon.com']
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ['#navFooter']
      SearchPage:
        description: "Веб-страница поисковой выдачи"
        super_selector: ['#search']
        selectors:
          - title: "Реклама"
            description: >-
              Реклама посреди результатов поисковой выдачи
            selectors:
              - '.s-result-list > .s-result-item:has([class*="sponsored"])'
          - title: "«Need help?»"
            description: >-
              Блок «Need help?» ниже пагинации. Бесполезен и занимает много
              места. Текст: «Need help?», «Visit the help section or contact us»
            selectors:
              - >-
                .s-result-list >
                .s-result-item:has([data-cel-widget*="FEEDBACK"])
  - title: "eBay"
    domains: ['ebay.com']
    selector_groups:
      WebUI:
        description: "Веб-интерфейс"
        selectors:
          - title: "Подвал"
            selectors: ['.footer-panel-container']
      ProductPage:
        description: "Веб-страница товара"
        super_selector: ['.main-container']
        selectors:
          - title: "Спонсорские товары"
            description: >-
              Длинный тонкий серый блок со спонсорскими товарами выше текущего
              открытого товара. Надписи: «Find similar items from
              <название_магазина> (1.9K items sold)», «Shop store on eBay»,
              «Sponsored»
            selectors:
              # «:has([data-testid="x-pda-placements"])» — это для того, чтобы
              # не ломалась вёрстка на веб-странице уже проданного товара
              # («This listing sold on Mon, Dec 15 at 1:50 PM»).
              - >-
                :has(> #CenterPanel) >
                [class*="top-panel"]:has([data-viewport*="trackableId"]):has([data-testid="x-pda-placements"])
              # eBay каким-то образом обнаруживает, что блок скрыт, поэтому
              # JavaScript'ом пытается его добавлять снова, но уже под разными
              # селекторами (например, <section> вместо <div> и с iframe-защитой
              # внутри). Так происходит раз 6, а затем eBay сдаётся. Поэтому
              # нужен селектор ниже.
              - >-
                :has(> #CenterPanel) >
                [class*="top-panel"]:has([data-viewport*="trackableId"]):has([data-testid="x-pda-placements"])
                ~ :has(~ #CenterPanel)
